{{ define "auth/addresses_form" }}
<style>
.form-select {
display: block;
width: 100%;
padding: 0.5rem 0.75rem;
margin-top: 0.25rem;
font-size: 0.875rem;
line-height: 1.25rem;
border-color: #d1d5db;
border-radius: 0.375rem;
box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
-webkit-appearance: none;
-moz-appearance: none;
appearance: none;
background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%236b7280' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
background-repeat: no-repeat;
background-position: right 0.75rem center;
background-size: 1.5em 1.5em;
padding-right: 2.5rem;
}
.form-select:focus {
outline: none;
border-color: #4f46e5;
box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.5);
}
</style>
<main class="flex-grow container mx-auto px-4 py-8 max-w-2xl">
<div class="bg-white p-8 rounded-lg shadow-md">
<h2 class="text-2xl font-bold text-gray-800 mb-6">{{ .Title }}</h2>

    {{ if .Message }}
    <div class="p-4 mb-4 text-sm rounded-lg {{ if eq .MessageStatus "success" }}bg-green-100 text-green-800{{ else if eq .MessageStatus "error" }}bg-red-100 text-red-800{{ else }}bg-blue-100 text-blue-800{{ end }}" role="alert">
        {{ .Message }}
    </div>
    {{ end }}

    <form action="{{ .FormAction }}" method="POST" class="space-y-6">
        <input type="hidden" name="csrf_token" value="{{ .CSRFToken }}">
        {{/* location_id dihapus karena tidak lagi relevan dengan RajaOngkir ID */}}

        <div>
            <label for="address1" class="block text-sm font-medium text-gray-700">Alamat Lengkap (Jl, No. Rumah, RT/RW)</label>
            <input type="text" id="address1" name="address1" value="{{ .Address.Address1 }}"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                required>
            {{ with .Errors.Address1 }}<p class="mt-1 text-sm text-red-600">{{ . }}</p>{{ end }}
        </div>

        <div>
            <label for="address2" class="block text-sm font-medium text-gray-700">Detail Lain (Opsional, cth: Blok, Unit, Patokan)</label>
            <input type="text" id="address2" name="address2" value="{{ .Address.Address2 }}"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
            {{ with .Errors.Address2 }}<p class="mt-1 text-sm text-red-600">{{ . }}</p>{{ end }}
        </div>

        <div>
            <label for="phone" class="block text-sm font-medium text-gray-700">Nomor Telepon</label>
            <input type="tel" id="phone" name="phone" value="{{ .Address.Phone }}"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                required>
            {{ with .Errors.Phone }}<p class="mt-1 text-sm text-red-600">{{ . }}</p>{{ end }}
        </div>

        <div>
            <label for="province_input" class="block text-sm font-medium text-gray-700">Provinsi</label>
            <input type="text" id="province_input" name="province_input" value="{{ .Address.LocationName | extractProvince }}"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                required placeholder="Contoh: Jawa Barat">
            {{ with .Errors.Province }}<p class="mt-1 text-sm text-red-600">{{ . }}</p>{{ end }}
        </div>
        <div>
            <label for="city_input" class="block text-sm font-medium text-gray-700">Kota/Kabupaten</label>
            <input type="text" id="city_input" name="city_input" value="{{ .Address.LocationName | extractCity }}"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                required placeholder="Contoh: Depok">
            {{ with .Errors.City }}<p class="mt-1 text-sm text-red-600">{{ . }}</p>{{ end }}
        </div>
        <div>
            <label for="district_input" class="block text-sm font-medium text-gray-700">Kecamatan</label>
            <input type="text" id="district_input" name="district_input" value="{{ .Address.LocationName | extractDistrict }}"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                required placeholder="Contoh: Sukmajaya">
            {{ with .Errors.District }}<p class="mt-1 text-sm text-red-600">{{ . }}</p>{{ end }}
        </div>
        <div>
            <label for="subdistrict_input" class="block text-sm font-medium text-gray-700">Kelurahan/Desa</label>
            <input type="text" id="subdistrict_input" name="subdistrict_input" value="{{ .Address.LocationName | extractSubdistrict }}"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                required placeholder="Contoh: Mekar Jaya">
            {{ with .Errors.Subdistrict }}<p class="mt-1 text-sm text-red-600">{{ . }}</p>{{ end }}
        </div>
        <div>
            <label for="zip_code_input" class="block text-sm font-medium text-gray-700">Kode Pos</label>
            <input type="text" id="zip_code_input" name="post_code" value="{{ .Address.PostCode }}"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                required placeholder="Contoh: 12345">
            {{ with .Errors.PostCode }}<p class="mt-1 text-sm text-red-600">{{ . }}</p>{{ end }}
        </div>


        <div class="flex justify-end space-x-3">
            <a href="/addresses" class="inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                Batal
            </a>
            <button type="submit" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500">
                Simpan Alamat
            </button>
        </div>
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</main>
{{ end }}